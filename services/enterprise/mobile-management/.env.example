# OpenDirectory Mobile Management Suite Configuration

# =============================================================================
# GENERAL CONFIGURATION
# =============================================================================

NODE_ENV=development
LOG_LEVEL=info
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# SERVICE PORTS
# =============================================================================

IOS_MANAGEMENT_PORT=3011
ANDROID_ENTERPRISE_PORT=3012
MAM_SERVICE_PORT=3013
MTD_SERVICE_PORT=3014
PROXY_PORT=3010

# =============================================================================
# APPLE CONFIGURATION (iOS Management Service)
# =============================================================================

# Apple Device Enrollment Program (DEP)
APPLE_DEP_CLIENT_ID=your_dep_client_id_here
APPLE_DEP_CLIENT_SECRET=your_dep_client_secret_here

# Apple Volume Purchase Program (VPP)
APPLE_VPP_CLIENT_ID=your_vpp_client_id_here
APPLE_VPP_CLIENT_SECRET=your_vpp_client_secret_here

# Apple Push Notification Certificate
APPLE_PUSH_CERT=path/to/push/certificate.pem
APPLE_PUSH_CERT_PASSWORD=your_push_cert_password

# App Store Connect API (Optional)
APPLE_ISSUER_ID=your_issuer_id
APPLE_KEY_ID=your_key_id
APPLE_PRIVATE_KEY_PATH=path/to/AuthKey_XXXXXX.p8

# =============================================================================
# GOOGLE CONFIGURATION (Android Enterprise Service)
# =============================================================================

# Google Service Account for Play EMM API
GOOGLE_CLIENT_EMAIL=service-account@your-project.iam.gserviceaccount.com
GOOGLE_PROJECT_ID=your_gcp_project_id
ANDROID_ENTERPRISE_ID=your_enterprise_id

# Google Private Key (replace \n with actual newlines)
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour_private_key_here\n-----END PRIVATE KEY-----"

# Alternative: Path to service account key file
GOOGLE_SERVICE_ACCOUNT_KEY=path/to/service-account-key.json

# =============================================================================
# SAMSUNG KNOX CONFIGURATION
# =============================================================================

KNOX_CLIENT_ID=your_knox_client_id
KNOX_CLIENT_SECRET=your_knox_client_secret
KNOX_BASE_URL=https://us-kcs-api.samsungknox.com

# =============================================================================
# MOBILE APP MANAGEMENT CONFIGURATION
# =============================================================================

# App Storage
APP_STORAGE_PATH=/tmp/mam-apps
MAX_APP_SIZE=524288000  # 500MB in bytes

# App Wrapping Service
APP_WRAPPING_ENABLED=false
APP_WRAPPING_ENDPOINT=https://wrapping.service.com/api
APP_WRAPPING_API_KEY=your_wrapping_api_key

# Microsoft Intune Integration (Optional)
INTUNE_TENANT_ID=your_tenant_id
INTUNE_CLIENT_ID=your_client_id
INTUNE_CLIENT_SECRET=your_client_secret

# =============================================================================
# CLOUD STORAGE CONFIGURATION
# =============================================================================

# AWS S3 Configuration
AWS_S3_BUCKET=your_s3_bucket_name
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key_id
AWS_SECRET_ACCESS_KEY=your_secret_access_key

# Azure Blob Storage (Alternative)
AZURE_STORAGE_ACCOUNT=your_storage_account
AZURE_STORAGE_KEY=your_storage_key
AZURE_CONTAINER_NAME=mobile-apps

# =============================================================================
# MOBILE THREAT DEFENSE CONFIGURATION
# =============================================================================

# Threat Intelligence Feeds
VIRUSTOTAL_ENABLED=false
VIRUSTOTAL_API_KEY=your_virustotal_api_key

# SIEM Integration
SIEM_ENABLED=false
SIEM_ENDPOINT=https://your-siem-platform.com/api
SIEM_API_KEY=your_siem_api_key

# Sandbox Analysis
SANDBOX_ENABLED=false
SANDBOX_ENDPOINT=https://sandbox.service.com/api
SANDBOX_API_KEY=your_sandbox_api_key

# Machine Learning Configuration
ML_MALWARE_DETECTION_ENABLED=true
ML_ANOMALY_DETECTION_ENABLED=true
ML_BEHAVIOR_ANALYSIS_ENABLED=true
ML_SENSITIVITY=medium  # low, medium, high

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary Database
DATABASE_URL=postgresql://user:password@localhost:5432/mobile_management
DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT=30000

# Redis Cache
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# =============================================================================
# AUTHENTICATION & AUTHORIZATION
# =============================================================================

# JWT Configuration
JWT_SECRET=your_jwt_secret_key_here_make_it_long_and_random
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=7d

# OAuth2 Configuration
OAUTH2_CLIENT_ID=your_oauth2_client_id
OAUTH2_CLIENT_SECRET=your_oauth2_client_secret
OAUTH2_ISSUER=https://your-auth-provider.com

# LDAP/Active Directory Integration
LDAP_ENABLED=false
LDAP_URL=ldaps://your-domain-controller:636
LDAP_BIND_DN=CN=service-account,OU=Service Accounts,DC=company,DC=com
LDAP_BIND_PASSWORD=your_ldap_password
LDAP_BASE_DN=DC=company,DC=com
LDAP_USER_SEARCH_FILTER=(sAMAccountName={{username}})

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000  # 30 seconds
HEALTH_CHECK_TIMEOUT=5000    # 5 seconds

# Log Configuration
LOG_FORMAT=json
LOG_DESTINATION=console  # console, file, syslog
LOG_FILE_PATH=/var/log/mobile-management.log

# APM Integration
APM_ENABLED=false
APM_SERVICE_NAME=mobile-management
APM_SERVER_URL=http://apm-server:8200
APM_SECRET_TOKEN=your_apm_secret_token

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Rate Limiting
RATE_LIMIT_WINDOW=900000     # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=1000 # Maximum requests per window

# Security Headers
SECURITY_HELMET_ENABLED=true
SECURITY_CORS_ENABLED=true
SECURITY_CSP_ENABLED=true

# Encryption
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_KEY=your_32_character_encryption_key_
ENCRYPTION_IV_LENGTH=16

# Certificate Management
CERT_STORAGE_PATH=/etc/ssl/mobile-management
CERT_AUTO_RENEWAL=true
CERT_EXPIRY_WARNING_DAYS=30

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Proxy Configuration
HTTP_PROXY=http://proxy.company.com:8080
HTTPS_PROXY=http://proxy.company.com:8080
NO_PROXY=localhost,127.0.0.1,.local

# Network Timeouts
HTTP_TIMEOUT=30000          # 30 seconds
WEBSOCKET_TIMEOUT=60000     # 60 seconds
CONNECTION_POOL_SIZE=50

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Service Features
FEATURE_IOS_MANAGEMENT=true
FEATURE_ANDROID_ENTERPRISE=true
FEATURE_MOBILE_APP_MANAGEMENT=true
FEATURE_MOBILE_THREAT_DEFENSE=true

# Advanced Features
FEATURE_ML_THREAT_DETECTION=true
FEATURE_BEHAVIORAL_ANALYSIS=true
FEATURE_AUTO_REMEDIATION=true
FEATURE_COMPLIANCE_AUTOMATION=true
FEATURE_ADVANCED_ANALYTICS=true

# Integration Features
FEATURE_THIRD_PARTY_INTEGRATIONS=true
FEATURE_WEBHOOK_NOTIFICATIONS=true
FEATURE_AUDIT_LOGGING=true
FEATURE_BACKUP_ENCRYPTION=true

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================

# Email Notifications
EMAIL_ENABLED=false
EMAIL_SMTP_HOST=smtp.company.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_SECURE=true
EMAIL_SMTP_USER=mobile-mgmt@company.com
EMAIL_SMTP_PASSWORD=your_email_password

# Webhook Notifications
WEBHOOK_ENABLED=false
WEBHOOK_URL=https://your-webhook-endpoint.com/mobile-events
WEBHOOK_SECRET=your_webhook_secret
WEBHOOK_TIMEOUT=10000

# Slack Integration
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#mobile-security

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *    # Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/var/backups/mobile-management

# Disaster Recovery
DR_ENABLED=false
DR_REPLICATION_URL=https://dr-site.company.com/mobile-management
DR_SYNC_INTERVAL=3600000     # 1 hour in milliseconds

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development Mode
DEBUG=mobile-management:*
DEVELOPMENT_MODE=false
MOCK_EXTERNAL_SERVICES=false

# Testing Configuration
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/mobile_management_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_TIMEOUT=30000

# Performance Testing
LOAD_TEST_ENABLED=false
LOAD_TEST_CONCURRENT_USERS=100
LOAD_TEST_DURATION=60000     # 1 minute

# =============================================================================
# CLUSTERING & SCALING
# =============================================================================

# Cluster Configuration
CLUSTER_ENABLED=false
CLUSTER_WORKERS=auto        # auto, or number of worker processes
CLUSTER_RESTART_DELAY=1000  # Delay before restarting failed workers

# Load Balancing
LOAD_BALANCER_ENABLED=false
LOAD_BALANCER_ALGORITHM=round_robin  # round_robin, least_connections, ip_hash

# Auto Scaling
AUTO_SCALING_ENABLED=false
AUTO_SCALING_MIN_INSTANCES=2
AUTO_SCALING_MAX_INSTANCES=10
AUTO_SCALING_CPU_THRESHOLD=70        # Scale up when CPU > 70%
AUTO_SCALING_MEMORY_THRESHOLD=80     # Scale up when memory > 80%